## 用文件名作为变量名
(load ("~/CljPro/eRka-Onet-findTeam-master/Dane/train.rda")) #=> [1] "train"
(load ("~/CljPro/eRka-Onet-findTeam-master/Dane/test.rda")) #=>  [1] "test"
## (class (train)) #=>  [1] "data.frame"


(library (Boruta))
## [1] "Boruta"    "ranger"    "stats"     "graphics"  "grDevices" "utils"    
## [7] "datasets"  "methods"   "base"     

(train$Classes) #=> [1] 0 0 0 0 1 0 0 0 0 1 0 1 0 0 0 0 0 1 0 0 1 1 0 1 1 0 0 1 1 0 1 1 0 0 0 0 1 [371] ... , class => [1] "numeric"

('<-' (Boruta.mod, (Boruta (Classes~., data=(train [,-348])))))
## Starting evaluation...
## Boruta performed 99 iterations in 32.76533 secs.
##  10 attributes confirmed important: dotyczyć, europejski, mężczyzna,
## naprawdę, poinformować and 5 more;
##  327 attributes confirmed unimportant: `100`, `2014`, `2015`, akcja,
## amerykański and 322 more;
##  10 tentative attributes left: gra, gwiazda, kobieta, kraj, polska and
## 5 more;

(png ("Boruta_selection.png", width=4000,height=1600))
## 右边绿色的高线,越来越高: zakończyć, zdjęcie, należeć, naprawdę, polski, kobieta, sierpień, zobaczyć, dotyczyć, szczęście, mężczyzna, europejski
## 越到右边,特征越明显,列train$europejski的数据是最明显的,最重要的
(train$europejski)
##   [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0
##  [38] 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0 0
##  [75] 0 0 0 0 0 0 0 0 3 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0
## [112] 1 0 6 0 0 0 0 0 0 2 0 0 0 0 0 5 1 0 0 0 2 0 1 1 0 0 0 2 0 0 0 0 1 0 0 0 0
## [149] 0 0 0 0 0 0 5 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 2 0 0 1 0 0 0 0 0 0
## [186] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 2 0 0 0 0 0 0 1 0 0 0 0 0
## [223] 0 0 0 0 0 0 0 0 0 0 0 0 0 2 1 0 0 0 0 0 0 1 0 0 0 1 0 0 1 2 0 0 0 0 0 0 0
## [260] 0 0 1 4 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0
## [297] 0 0 3 0 0 0 0 0 0 2 0 0 0 2 0 0 0 0 0 4 0 0 1 0 0 1 0 0 0 0 0 0 0 0 0 0 0
## [334] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 1 0 0 0
## [371] 0
## 
(table (train$europejski))
##   0   1   2   3   4   5   6 
## 325  27  11   3   2   2   1 
## 右边最后的一个绿色,隔壁是黄色==>
(table (train$zakończyć))
##   0   1   2   3   5 
## 333  27   9   1   1
## 右边倒数第二个绿色
(table (train$mężczyzna))
##   0   1   2   3   4   5 
## 331  23   9   3   3   2 
## 右边倒数第三个绿色
(table (train$szczęście))
##   0   1   2   3 
## 354  14   1   2 

## 最左边的train$stan列,特征是最不明显的
(train$stan)
##   [1] 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
##  [38] 0 0 2 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
##  [75] 1 0 0 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 2 0 0 1 0 0 0 0 0 1 2 0 0 0 0 1
## [112] 0 2 0 0 0 0 0 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
## [149] 0 0 0 1 0 0 0 0 3 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 2 2 0 0 0 0 1 0 0 0 0
## [186] 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
## [223] 0 0 0 0 0 0 0 0 2 0 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0 2 0 0 0 0 0 0 0 1 1 0 0
## [260] 0 0 0 2 0 0 0 0 0 0 0 0 0 0 0 0 0 0 4 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0
## [297] 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 3 0
## [334] 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0
## [371] 0
## 
(table (train$stan))
##   0   1   2   3   4 
## 324  33  10   3   1 

(summary (train))
##   europejski   
## Min.   :0.000  
## 1st Qu.:0.000  
## Median :0.000  
## Mean   :0.221  ==========
## 3rd Qu.:0.000  
## Max.   :6.000  =========
##   zakończyć   
## Min.   :0.0000
## 1st Qu.:0.0000
## Median :0.0000
## Mean   :0.1429
## 3rd Qu.:0.0000
## Max.   :5.0000
##  mężczyzna      
## Min.   :0.0000  
## 1st Qu.:0.0000  
## Median :0.0000  
## Mean   :0.1941  
## 3rd Qu.:0.0000  
## Max.   :5.0000  
##   szczęście   
## Min.   :0.0000
## 1st Qu.:0.0000
## Median :0.0000
## Mean   :0.0593
## 3rd Qu.:0.0000
## Max.   :3.0000
##      stan     
## Min.   :0.0000
## 1st Qu.:0.0000
## Median :0.0000
## Mean   :0.1779
## 3rd Qu.:0.0000
## Max.   :4.0000

(plot (Boruta.mod, las="2"))
## Boruta performed 99 iterations in 34.82138 secs.
##  14 attributes confirmed important: dotyczyć, europejski, kobieta,
## kraj, mężczyzna and 9 more;
##  322 attributes confirmed unimportant: `100`, `2014`, `2015`, akcja,
## amerykański and 317 more;
##  11 tentative attributes left: główny, gra, gwiazda, polska,
## poniedziałek and 6 more;
## 

(dev.off ())
## null device 
##           1 

## join到一块成字符串
(cat ((getSelectedAttributes (Boruta.mod, withTentative = TRUE)), sep=","))
##  [1] "dotyczyć"      "europejski"    "główny"      "gra"          
##  [5] "gwiazda"       "kobieta"       "kraj"          "mężczyzna"    
##  [9] "należeć"       "naprawdę"      "poinformować"  "polska"       
## [13] "polski"        "poniedziałek" "projekt"       "ręka"         
## [17] "robić"         "sierpień"     "szczęście"     "szef"         
## [21] "wyglądać"      "zakończyć"    "zdjęcie"       "zobaczyć"     
## [25] "związać"      
## 

## 配合管道`%>%`使用,最终的结果赋值到aaa
(1 -> aaa) #=> `aaa` => [1] 1

(library (magrittr))
(library (dplyr)) #select函数
(train %>%
 (function (data) (select (data, zakończyć,zdjęcie,należeć,naprawdę,polski,kobieta,sierpień,zobaczyć,dotyczyć,szczęście,mężczyzna,europejski)))
    -> train_Boruta)

(save (train_Boruta, file="train_Boruta.rda")) #=> 将选出来的重要特征保存到一个rda里面

## (str (train))
## 'data.frame':	371 obs. of  349 variables:
##  $ 100          : num  0 0 0 0 1 0 0 0 0 0 ...
##  $ 2014         : num  0 0 1 0 0 0 0 0 0 0 ...
##  $ 2015         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ akcja        : num  0 0 0 0 0 0 1 0 2 0 ...
##  $ amerykański : num  0 0 0 2 0 0 0 0 0 0 ...
##  $ biały       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ bliski       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ boisko       : num  0 0 0 0 0 0 0 2 0 0 ...
##  $ brać         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ brak         : num  0 0 0 2 0 0 0 0 0 0 ...
##  $ bramka       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ cel          : num  0 0 0 0 0 1 0 0 1 0 ...
##  $ cena         : num  0 0 0 1 0 0 0 0 0 0 ...
##  $ chcieć       : num  1 2 0 0 4 0 0 0 2 0 ...
##  $ choć         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ chodzić      : num  0 0 0 1 0 0 0 0 0 0 ...
##  $ chwila       : num  0 1 0 0 0 0 0 0 0 0 ...
##  $ ciąg         : num  0 0 0 0 2 0 0 0 0 0 ...
##  $ ciekawy      : num  0 0 0 0 0 0 1 0 1 0 ...
##  $ cieszyć      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ coraz        : num  0 0 0 1 0 2 0 0 0 0 ...
##  $ czas         : num  0 3 0 1 1 0 0 0 0 0 ...
##  $ czekać       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ czerwony     : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ często       : num  0 0 0 0 0 2 0 0 0 0 ...
##  $ część        : num  0 0 0 2 0 0 1 1 0 0 ...
##  $ człowiek    : num  0 0 0 3 1 0 0 0 1 0 ...
##  $ cztery       : num  0 1 0 0 0 2 1 0 0 0 ...
##  $ czuć         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dać          : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ daleki       : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ dany         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dawać        : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ decyzja      : num  0 0 0 1 0 0 0 0 0 0 ...
##  $ długi       : num  0 0 0 0 0 0 0 0 0 1 ...
##  $ długo       : num  0 0 0 0 0 0 0 0 1 0 ...
##  $ dobry        : num  3 1 0 2 0 0 0 0 0 0 ...
##  $ dodać        : num  2 1 0 0 0 0 0 0 0 0 ...
##  $ dodawać      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dojść        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dom          : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dopiero      : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ dostać       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dotyczyć     : num  0 1 0 0 0 0 0 0 0 0 ...
##  $ droga        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ drugi        : num  0 2 0 0 0 0 0 0 0 0 ...
##  $ drużyna      : num  0 0 0 0 0 0 1 0 0 0 ...
##  $ duży         : num  0 0 0 0 0 1 0 2 1 0 ...
##  $ działać     : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ dziecko      : num  0 1 0 0 0 0 0 0 1 0 ...
##  $ dzień       : num  0 0 0 1 0 0 0 0 0 1 ...
##  $ dzięki       : num  1 0 1 0 1 0 1 0 0 0 ...
##  $ ekstraklasa  : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ eura         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ europa       : num  1 0 0 0 0 0 2 0 0 0 ...
##  $ europejski   : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ fakt         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ finał       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ finansowy    : num  0 1 0 0 0 0 0 0 0 0 ...
##  $ firma        : num  0 1 0 7 0 0 0 0 0 0 ...
##  $ forma        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ głowa       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ główny     : num  0 0 2 1 1 0 0 0 0 0 ...
##  $ godzina      : num  0 0 0 0 0 0 0 2 0 0 ...
##  $ gol          : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ gra          : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ grać         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ granica      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ grupa        : num  0 0 0 0 0 0 2 0 0 0 ...
##  $ gwiazda      : num  0 0 0 0 0 0 0 1 0 0 ...
##  $ historia     : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ impreza      : num  1 0 0 0 0 0 0 5 1 0 ...
##  $ informacja   : num  0 0 0 1 1 0 0 0 0 0 ...
##  $ informować   : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ jedynie      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ jedyny       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kadra        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kariera      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kibic        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ klub         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kobieta      : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kolega       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kolej        : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kolejny      : num  0 1 1 0 0 0 1 0 1 0 ...
##  $ koniec       : num  0 0 0 1 0 0 1 0 0 0 ...
##  $ kontrakt     : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ kraj         : num  0 0 0 1 0 0 0 0 0 0 ...
##  $ liczba       : num  0 0 0 2 0 0 0 0 0 0 ...
##  $ liczyć       : num  0 0 0 0 0 1 0 0 0 0 ...
##  $ liga         : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ lipiec       : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ mało        : num  0 0 0 2 0 0 0 0 0 0 ...
##  $ mały        : num  0 2 0 0 0 0 0 0 1 0 ...
##  $ mecz         : num  0 0 0 0 0 0 1 0 0 0 ...
##  $ medium       : num  0 0 0 0 4 0 0 0 0 0 ...
##  $ mężczyzna    : num  0 0 0 0 0 0 0 0 0 1 ...
##  $ miasto       : num  0 0 0 0 0 0 0 0 1 0 ...
##  $ mieć         : num  5 10 2 6 1 1 2 0 0 1 ...
##  $ miejsce      : num  2 0 0 1 1 0 1 1 1 1 ...
##   [list output truncated]
## 
